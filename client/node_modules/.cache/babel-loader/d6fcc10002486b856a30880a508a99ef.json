{"ast":null,"code":"import _regeneratorRuntime from\"C:/workspace/workspace/audioprova/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/workspace/workspace/audioprova/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/workspace/workspace/audioprova/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./style.css\";import{useState}from\"react\";import document from\"../../assets/imgs/document.png\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostFile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),srcf=_useState2[0],setSrc=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pdffile=_useState4[0],setMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var change=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setMessage(e.target.files[0]);setValue(e.target.value.slice(12));setSrc(document);case 3:case\"end\":return _context.stop();}}},_callee);}));return function change(_x){return _ref.apply(this,arguments);};}();var play=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var formData,headers;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(pdffile);formData=new FormData();formData.append(\"pdf-file\",pdffile);headers={headers:{\"Content-Type\":\"application/json\"}};_context2.next=7;return axios.post(\"/uploadfile\",formData,headers).then(function(res){//console.log(res);\nsetStatus(res.data.mensagem);}).catch(function(err){if(err.res){setStatus(err.response.data.mensagem);}else{setStatus(\"Servidor não esta funcionando no momento\");}});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function play(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"Container-post\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:play,className:\"form-area-input\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-Area\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"input-fileb\",className:\"label-file\",children:\"Selecione um arquivo aqui\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"input-fileb\",className:\"input-file\",onChange:change,name:\"pdf-file\",accept:\"application/pdf\"}),srcf===\"\"?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsxs(\"div\",{className:\"img-area-file\",children:[/*#__PURE__*/_jsx(\"img\",{src:srcf,className:\"image-file\",alt:\"documento\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-file\",children:value})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons-area-input\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button-file\",type:\"submit\",children:\"Criar audio\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"instructions\",children:\"Clique em selecionar arquivo e selecione o seu documento em pdf para transforma-lo em audio\"})}),status===\"\"?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"status-post\",children:status})})]});}","map":{"version":3,"names":["useState","document","axios","PostFile","srcf","setSrc","pdffile","setMessage","value","setValue","status","setStatus","change","e","target","files","slice","play","preventDefault","console","log","formData","FormData","append","headers","post","then","res","data","mensagem","catch","err","response"],"sources":["C:/workspace/workspace/audioprova/client/src/components/Post-File/index.jsx"],"sourcesContent":["import \"./style.css\";\r\nimport { useState } from \"react\";\r\nimport document from \"../../assets/imgs/document.png\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default function PostFile() {\r\n  const [srcf, setSrc] = useState(\"\");\r\n  const [pdffile, setMessage] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [status, setStatus] = useState(\"\");\r\n\r\n  const change = async (e) => {\r\n    setMessage(e.target.files[0]);\r\n    setValue(e.target.value.slice(12));\r\n    setSrc(document);\r\n  };\r\n  const play = async (e) => {\r\n    e.preventDefault();\r\n    console.log(pdffile);\r\n    const formData = new FormData();\r\n    formData.append(\"pdf-file\", pdffile);\r\n    const headers = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    await axios\r\n      .post(\"/uploadfile\", formData, headers)\r\n      .then((res) => {\r\n        //console.log(res);\r\n        setStatus(res.data.mensagem);\r\n      })\r\n      .catch((err) => {\r\n        if (err.res) {\r\n          setStatus(err.response.data.mensagem);\r\n        } else {\r\n          setStatus(\"Servidor não esta funcionando no momento\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Container-post\">\r\n      <form\r\n        onSubmit={play}\r\n        className=\"form-area-input\"\r\n        encType=\"multipart/form-data\"\r\n      >\r\n        <div className=\"input-Area\">\r\n          <label for=\"input-fileb\" className=\"label-file\">\r\n            Selecione um arquivo aqui\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"input-fileb\"\r\n            className=\"input-file\"\r\n            onChange={change}\r\n            name=\"pdf-file\"\r\n            accept=\"application/pdf\"\r\n          />\r\n          {srcf === \"\" ? (\r\n            <div></div>\r\n          ) : (\r\n            <div className=\"img-area-file\">\r\n              <img src={srcf} className=\"image-file\" alt=\"documento\" />\r\n              <p className=\"text-file\">{value}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"buttons-area-input\">\r\n          <button className=\"button-file\" type=\"submit\">\r\n            Criar audio\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        <h1 className=\"instructions\">\r\n          Clique em selecionar arquivo e selecione o seu documento em pdf para\r\n          transforma-lo em audio\r\n        </h1>\r\n      </div>\r\n      {status === \"\" ? (\r\n        <div></div>\r\n      ) : (\r\n        <div>\r\n          <p className=\"status-post\">{status}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"0YAAA,MAAO,aAAP,CACA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,SAAP,KAAqB,gCAArB,CAEA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,SAAT,EAAoB,CACjC,cAAuBH,QAAQ,CAAC,EAAD,CAA/B,wCAAOI,IAAP,eAAaC,MAAb,eACA,eAA8BL,QAAQ,CAAC,EAAD,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA4BT,QAAQ,CAAC,EAAD,CAApC,yCAAOU,MAAP,eAAeC,SAAf,eAEA,GAAMC,OAAM,4FAAG,iBAAOC,CAAP,oHACbN,UAAU,CAACM,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAV,CACAN,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeQ,KAAf,CAAqB,EAArB,CAAD,CAAR,CACAX,MAAM,CAACJ,QAAD,CAAN,CAHa,sDAAH,kBAANW,OAAM,4CAAZ,CAKA,GAAMK,KAAI,6FAAG,kBAAOJ,CAAP,6IACXA,CAAC,CAACK,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYd,OAAZ,EACMe,QAHK,CAGM,GAAIC,SAAJ,EAHN,CAIXD,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BjB,OAA5B,EACMkB,OALK,CAKK,CACdA,OAAO,CAAE,CACP,eAAgB,kBADT,CADK,CALL,wBAULtB,MAAK,CACRuB,IADG,CACE,aADF,CACiBJ,QADjB,CAC2BG,OAD3B,EAEHE,IAFG,CAEE,SAACC,GAAD,CAAS,CACb;AACAhB,SAAS,CAACgB,GAAG,CAACC,IAAJ,CAASC,QAAV,CAAT,CACD,CALG,EAMHC,KANG,CAMG,SAACC,GAAD,CAAS,CACd,GAAIA,GAAG,CAACJ,GAAR,CAAa,CACXhB,SAAS,CAACoB,GAAG,CAACC,QAAJ,CAAaJ,IAAb,CAAkBC,QAAnB,CAAT,CACD,CAFD,IAEO,CACLlB,SAAS,CAAC,0CAAD,CAAT,CACD,CACF,CAZG,CAVK,yDAAH,kBAAJM,KAAI,8CAAV,CAyBA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,cACE,QAAQ,CAAEA,IADZ,CAEE,SAAS,CAAC,iBAFZ,CAGE,OAAO,CAAC,qBAHV,wBAKE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,GAAG,CAAC,aAAX,CAAyB,SAAS,CAAC,YAAnC,uCADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,aAFL,CAGE,SAAS,CAAC,YAHZ,CAIE,QAAQ,CAAEL,MAJZ,CAKE,IAAI,CAAC,UALP,CAME,MAAM,CAAC,iBANT,EAJF,CAYGR,IAAI,GAAK,EAAT,cACC,cADD,cAGC,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,GAAG,CAAEA,IAAV,CAAgB,SAAS,CAAC,YAA1B,CAAuC,GAAG,CAAC,WAA3C,EADF,cAEE,UAAG,SAAS,CAAC,WAAb,UAA0BI,KAA1B,EAFF,GAfJ,GALF,cA0BE,YAAK,SAAS,CAAC,oBAAf,uBACE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,IAAI,CAAC,QAArC,yBADF,EA1BF,GADF,cAiCE,kCACE,WAAI,SAAS,CAAC,cAAd,yGADF,EAjCF,CAuCGE,MAAM,GAAK,EAAX,cACC,cADD,cAGC,kCACE,UAAG,SAAS,CAAC,aAAb,UAA4BA,MAA5B,EADF,EA1CJ,GADF,CAiDD"},"metadata":{},"sourceType":"module"}